<!-- 
Tam Tran
Friday Lab
February 16, 2018
 -->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Validate Password</title>
</head>

<body>
	<form onsubmit="f(event); return false;">
		<p>Password: <input id="pw1" type="text" pattern=".{6,}" title="Must have length >= 6" required></p>
		<p>Confirm: <input id="pw2" type="text" required></p>
		<input type="submit">
	</form>
	<div id="toChange"></div>
	<script>
		function f(event) {
			// From class
			event.preventDefault();
			var element = document.getElementById("toChange");
			var pw1 = document.getElementById("pw1").value;
			var pw2 = document.getElementById("pw2").value;
			
			// Verify the three criteria
			var verifyLetter = /[a-zA-Z]+/.test(pw1);
			var verifyNumber = /[0-9]+/.test(pw1);
			var verifySpecial = /[@#$%^&+=]+/.test(pw1);
			
			// Check that criterias meet
			if (verifyLetter && verifyNumber && verifySpecial) {
				if (pw1 == pw2) {
					element.innerHTML = "<br>Passwords match";
				}
				else {
					element.innerHTML = "<br>Passwords do not match";
				}
			}
			// If does not meet, specify which character is missing
			else {
				element.innerHTML = "<br>This entry is missing:<br>";
				if (!verifyLetter) {
					element.innerHTML += "A letter (uppercase or lowercase) <br>"
				}
				if (!verifyNumber) {
					element.innerHTML += "A number (0-9) <br>"
				}
				if (!verifySpecial) {
					element.innerHTML += "A special character (@#$%^&+=) <br>"
				}
			}
			
			
		}
	</script>
</body>
</html>